"use strict";import{hideTransparentOverlay as e,showTransparentOverlay as t}from"./shared.js";import{convertMonthToMonthName as n}from"./utils.js";const r=new Date;let o=r.getDay()+1,a=r.getMonth()+1,i=r.getDate(),c=r.getFullYear(),l=s(),d=u();function s(){return[1,3,5,7,8,10,12].includes(a)?31:[4,6,9,11].includes(a)?30:c%4===0?29:28}function u(){let e=new Date(`${c}-${a}-1`).getDay();return e=(e+2)%7}function m(){if(a<12)a++;else{a=1;c++}d+=l%7;d>7&&(d=d%7);l=s();h();p();g()}function f(){if(a>1)a--;else{a=12;c--}l=s();d-=l%7;d<1&&(d+=7);h();p();g()}function h(){document.getElementById("calendar__month-year").innerHTML=`${n(a)} ${c}`}function p(){document.getElementById("calendar__input-date").value=`${c}-${String(a).padStart(2,0)}-${String(i).padStart(2,0)}`}function g(){const e=document.getElementById("calendar__tbody"),t=[];let n="",r="";for(let e=1;e<d;e++)t.push("<td></td>");for(let e=1;e<=l;e++)t.push(`<td class="${i===e?"calendar__day--active":"calendar__day"}">${e}</td>`);const o=t.length;for(let e=1;e<=o;e++){r+=t[e-1];e%7===0&&(n+=`<tr class="grid grid-cols-7 gap-x-2 md:gap-x-5">${r}</tr>`,r="")}r&&(n+=`<tr class="grid grid-cols-7 gap-x-5.5 gap-y-6.5">${r}</tr>`);e.innerHTML=n}function v(){const e=document.getElementById("calendar__input-date").value;c=Number(e.slice(0,4))||2e3;a=Number(e.slice(5,7))||1;i=Number(e.slice(8,10))||1;d=u();g();h()}function y(){t();document.getElementById("calendar").classList.remove("opacity-0","invisible")}function w(){e();document.getElementById("calendar").classList.add("opacity-0","invisible")}document.getElementById("next-month-btn").addEventListener("click",m);document.getElementById("previous-month-btn").addEventListener("click",f);window.addEventListener("load",()=>{g();h();p()});document.getElementById("calendar__input-date").addEventListener("change",v);document.getElementById("calendar__tbody").addEventListener("click",e=>{if("calendar__day"===e.target.className){i=Number(e.target.textContent);g();p()}});document.getElementById("calendar__hide-btn").addEventListener("click",w);export{y as showCalendar,w as hideCalendar};